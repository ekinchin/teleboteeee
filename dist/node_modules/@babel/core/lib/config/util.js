"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mergeOptions = mergeOptions;

function mergeOptions(target, source) {
  for (const k of Object.keys(source)) {
    if (k === "parserOpts" && source.parserOpts) {
      const parserOpts = source.parserOpts;
      const targetObj = target.parserOpts = target.parserOpts || {};
      mergeDefaultFields(targetObj, parserOpts);
    } else if (k === "generatorOpts" && source.generatorOpts) {
      const generatorOpts = source.generatorOpts;
      const targetObj = target.generatorOpts = target.generatorOpts || {};
      mergeDefaultFields(targetObj, generatorOpts);
    } else {
      const val = source[k];
      if (val !== undefined) target[k] = val;
    }
  }
}

function mergeDefaultFields(target, source) {
  for (const k of Object.keys(source)) {
    const val = source[k];
    if (val !== undefined) target[k] = val;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvY29yZS9saWIvY29uZmlnL3V0aWwuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJtZXJnZU9wdGlvbnMiLCJ0YXJnZXQiLCJzb3VyY2UiLCJrIiwia2V5cyIsInBhcnNlck9wdHMiLCJ0YXJnZXRPYmoiLCJtZXJnZURlZmF1bHRGaWVsZHMiLCJnZW5lcmF0b3JPcHRzIiwidmFsIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUMzQ0MsRUFBQUEsS0FBSyxFQUFFO0FBRG9DLENBQTdDO0FBR0FELE9BQU8sQ0FBQ0UsWUFBUixHQUF1QkEsWUFBdkI7O0FBRUEsU0FBU0EsWUFBVCxDQUFzQkMsTUFBdEIsRUFBOEJDLE1BQTlCLEVBQXNDO0FBQ3BDLE9BQUssTUFBTUMsQ0FBWCxJQUFnQlAsTUFBTSxDQUFDUSxJQUFQLENBQVlGLE1BQVosQ0FBaEIsRUFBcUM7QUFDbkMsUUFBSUMsQ0FBQyxLQUFLLFlBQU4sSUFBc0JELE1BQU0sQ0FBQ0csVUFBakMsRUFBNkM7QUFDM0MsWUFBTUEsVUFBVSxHQUFHSCxNQUFNLENBQUNHLFVBQTFCO0FBQ0EsWUFBTUMsU0FBUyxHQUFHTCxNQUFNLENBQUNJLFVBQVAsR0FBb0JKLE1BQU0sQ0FBQ0ksVUFBUCxJQUFxQixFQUEzRDtBQUNBRSxNQUFBQSxrQkFBa0IsQ0FBQ0QsU0FBRCxFQUFZRCxVQUFaLENBQWxCO0FBQ0QsS0FKRCxNQUlPLElBQUlGLENBQUMsS0FBSyxlQUFOLElBQXlCRCxNQUFNLENBQUNNLGFBQXBDLEVBQW1EO0FBQ3hELFlBQU1BLGFBQWEsR0FBR04sTUFBTSxDQUFDTSxhQUE3QjtBQUNBLFlBQU1GLFNBQVMsR0FBR0wsTUFBTSxDQUFDTyxhQUFQLEdBQXVCUCxNQUFNLENBQUNPLGFBQVAsSUFBd0IsRUFBakU7QUFDQUQsTUFBQUEsa0JBQWtCLENBQUNELFNBQUQsRUFBWUUsYUFBWixDQUFsQjtBQUNELEtBSk0sTUFJQTtBQUNMLFlBQU1DLEdBQUcsR0FBR1AsTUFBTSxDQUFDQyxDQUFELENBQWxCO0FBQ0EsVUFBSU0sR0FBRyxLQUFLQyxTQUFaLEVBQXVCVCxNQUFNLENBQUNFLENBQUQsQ0FBTixHQUFZTSxHQUFaO0FBQ3hCO0FBQ0Y7QUFDRjs7QUFFRCxTQUFTRixrQkFBVCxDQUE0Qk4sTUFBNUIsRUFBb0NDLE1BQXBDLEVBQTRDO0FBQzFDLE9BQUssTUFBTUMsQ0FBWCxJQUFnQlAsTUFBTSxDQUFDUSxJQUFQLENBQVlGLE1BQVosQ0FBaEIsRUFBcUM7QUFDbkMsVUFBTU8sR0FBRyxHQUFHUCxNQUFNLENBQUNDLENBQUQsQ0FBbEI7QUFDQSxRQUFJTSxHQUFHLEtBQUtDLFNBQVosRUFBdUJULE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLEdBQVlNLEdBQVo7QUFDeEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5tZXJnZU9wdGlvbnMgPSBtZXJnZU9wdGlvbnM7XG5cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKGNvbnN0IGsgb2YgT2JqZWN0LmtleXMoc291cmNlKSkge1xuICAgIGlmIChrID09PSBcInBhcnNlck9wdHNcIiAmJiBzb3VyY2UucGFyc2VyT3B0cykge1xuICAgICAgY29uc3QgcGFyc2VyT3B0cyA9IHNvdXJjZS5wYXJzZXJPcHRzO1xuICAgICAgY29uc3QgdGFyZ2V0T2JqID0gdGFyZ2V0LnBhcnNlck9wdHMgPSB0YXJnZXQucGFyc2VyT3B0cyB8fCB7fTtcbiAgICAgIG1lcmdlRGVmYXVsdEZpZWxkcyh0YXJnZXRPYmosIHBhcnNlck9wdHMpO1xuICAgIH0gZWxzZSBpZiAoayA9PT0gXCJnZW5lcmF0b3JPcHRzXCIgJiYgc291cmNlLmdlbmVyYXRvck9wdHMpIHtcbiAgICAgIGNvbnN0IGdlbmVyYXRvck9wdHMgPSBzb3VyY2UuZ2VuZXJhdG9yT3B0cztcbiAgICAgIGNvbnN0IHRhcmdldE9iaiA9IHRhcmdldC5nZW5lcmF0b3JPcHRzID0gdGFyZ2V0LmdlbmVyYXRvck9wdHMgfHwge307XG4gICAgICBtZXJnZURlZmF1bHRGaWVsZHModGFyZ2V0T2JqLCBnZW5lcmF0b3JPcHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsID0gc291cmNlW2tdO1xuICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB0YXJnZXRba10gPSB2YWw7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGVmYXVsdEZpZWxkcyh0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKGNvbnN0IGsgb2YgT2JqZWN0LmtleXMoc291cmNlKSkge1xuICAgIGNvbnN0IHZhbCA9IHNvdXJjZVtrXTtcbiAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHRhcmdldFtrXSA9IHZhbDtcbiAgfVxufSJdfQ==