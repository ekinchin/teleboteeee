"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ClassExpression = exports.ClassDeclaration = ClassDeclaration;
exports.ClassBody = ClassBody;
exports.ClassProperty = ClassProperty;
exports.ClassPrivateProperty = ClassPrivateProperty;
exports.ClassMethod = ClassMethod;
exports._classMethodHead = _classMethodHead;

function t() {
  const data = _interopRequireWildcard(require("@babel/types"));

  t = function () {
    return data;
  };

  return data;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};

    if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};

          if (desc.get || desc.set) {
            Object.defineProperty(newObj, key, desc);
          } else {
            newObj[key] = obj[key];
          }
        }
      }
    }

    newObj.default = obj;
    return newObj;
  }
}

function ClassDeclaration(node, parent) {
  if (!this.format.decoratorsBeforeExport || !t().isExportDefaultDeclaration(parent) && !t().isExportNamedDeclaration(parent)) {
    this.printJoin(node.decorators, node);
  }

  if (node.declare) {
    this.word("declare");
    this.space();
  }

  if (node.abstract) {
    this.word("abstract");
    this.space();
  }

  this.word("class");

  if (node.id) {
    this.space();
    this.print(node.id, node);
  }

  this.print(node.typeParameters, node);

  if (node.superClass) {
    this.space();
    this.word("extends");
    this.space();
    this.print(node.superClass, node);
    this.print(node.superTypeParameters, node);
  }

  if (node.implements) {
    this.space();
    this.word("implements");
    this.space();
    this.printList(node.implements, node);
  }

  this.space();
  this.print(node.body, node);
}

function ClassBody(node) {
  this.token("{");
  this.printInnerComments(node);

  if (node.body.length === 0) {
    this.token("}");
  } else {
    this.newline();
    this.indent();
    this.printSequence(node.body, node);
    this.dedent();
    if (!this.endsWith("\n")) this.newline();
    this.rightBrace();
  }
}

function ClassProperty(node) {
  this.printJoin(node.decorators, node);

  if (node.accessibility) {
    this.word(node.accessibility);
    this.space();
  }

  if (node.static) {
    this.word("static");
    this.space();
  }

  if (node.abstract) {
    this.word("abstract");
    this.space();
  }

  if (node.readonly) {
    this.word("readonly");
    this.space();
  }

  if (node.computed) {
    this.token("[");
    this.print(node.key, node);
    this.token("]");
  } else {
    this._variance(node);

    this.print(node.key, node);
  }

  if (node.optional) {
    this.token("?");
  }

  if (node.definite) {
    this.token("!");
  }

  this.print(node.typeAnnotation, node);

  if (node.value) {
    this.space();
    this.token("=");
    this.space();
    this.print(node.value, node);
  }

  this.semicolon();
}

function ClassPrivateProperty(node) {
  if (node.static) {
    this.word("static");
    this.space();
  }

  this.print(node.key, node);
  this.print(node.typeAnnotation, node);

  if (node.value) {
    this.space();
    this.token("=");
    this.space();
    this.print(node.value, node);
  }

  this.semicolon();
}

function ClassMethod(node) {
  this._classMethodHead(node);

  this.space();
  this.print(node.body, node);
}

function _classMethodHead(node) {
  this.printJoin(node.decorators, node);

  if (node.accessibility) {
    this.word(node.accessibility);
    this.space();
  }

  if (node.abstract) {
    this.word("abstract");
    this.space();
  }

  if (node.static) {
    this.word("static");
    this.space();
  }

  this._methodHead(node);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvZ2VuZXJhdG9yL2xpYi9nZW5lcmF0b3JzL2NsYXNzZXMuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJDbGFzc0V4cHJlc3Npb24iLCJDbGFzc0RlY2xhcmF0aW9uIiwiQ2xhc3NCb2R5IiwiQ2xhc3NQcm9wZXJ0eSIsIkNsYXNzUHJpdmF0ZVByb3BlcnR5IiwiQ2xhc3NNZXRob2QiLCJfY2xhc3NNZXRob2RIZWFkIiwidCIsImRhdGEiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwibmV3T2JqIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsInNldCIsImRlZmF1bHQiLCJub2RlIiwicGFyZW50IiwiZm9ybWF0IiwiZGVjb3JhdG9yc0JlZm9yZUV4cG9ydCIsImlzRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uIiwiaXNFeHBvcnROYW1lZERlY2xhcmF0aW9uIiwicHJpbnRKb2luIiwiZGVjb3JhdG9ycyIsImRlY2xhcmUiLCJ3b3JkIiwic3BhY2UiLCJhYnN0cmFjdCIsImlkIiwicHJpbnQiLCJ0eXBlUGFyYW1ldGVycyIsInN1cGVyQ2xhc3MiLCJzdXBlclR5cGVQYXJhbWV0ZXJzIiwiaW1wbGVtZW50cyIsInByaW50TGlzdCIsImJvZHkiLCJ0b2tlbiIsInByaW50SW5uZXJDb21tZW50cyIsImxlbmd0aCIsIm5ld2xpbmUiLCJpbmRlbnQiLCJwcmludFNlcXVlbmNlIiwiZGVkZW50IiwiZW5kc1dpdGgiLCJyaWdodEJyYWNlIiwiYWNjZXNzaWJpbGl0eSIsInN0YXRpYyIsInJlYWRvbmx5IiwiY29tcHV0ZWQiLCJfdmFyaWFuY2UiLCJvcHRpb25hbCIsImRlZmluaXRlIiwidHlwZUFubm90YXRpb24iLCJzZW1pY29sb24iLCJfbWV0aG9kSGVhZCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFDM0NDLEVBQUFBLEtBQUssRUFBRTtBQURvQyxDQUE3QztBQUdBRCxPQUFPLENBQUNFLGVBQVIsR0FBMEJGLE9BQU8sQ0FBQ0csZ0JBQVIsR0FBMkJBLGdCQUFyRDtBQUNBSCxPQUFPLENBQUNJLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0FKLE9BQU8sQ0FBQ0ssYUFBUixHQUF3QkEsYUFBeEI7QUFDQUwsT0FBTyxDQUFDTSxvQkFBUixHQUErQkEsb0JBQS9CO0FBQ0FOLE9BQU8sQ0FBQ08sV0FBUixHQUFzQkEsV0FBdEI7QUFDQVAsT0FBTyxDQUFDUSxnQkFBUixHQUEyQkEsZ0JBQTNCOztBQUVBLFNBQVNDLENBQVQsR0FBYTtBQUNYLFFBQU1DLElBQUksR0FBR0MsdUJBQXVCLENBQUNDLE9BQU8sQ0FBQyxjQUFELENBQVIsQ0FBcEM7O0FBRUFILEVBQUFBLENBQUMsR0FBRyxZQUFZO0FBQ2QsV0FBT0MsSUFBUDtBQUNELEdBRkQ7O0FBSUEsU0FBT0EsSUFBUDtBQUNEOztBQUVELFNBQVNDLHVCQUFULENBQWlDRSxHQUFqQyxFQUFzQztBQUFFLE1BQUlBLEdBQUcsSUFBSUEsR0FBRyxDQUFDQyxVQUFmLEVBQTJCO0FBQUUsV0FBT0QsR0FBUDtBQUFhLEdBQTFDLE1BQWdEO0FBQUUsUUFBSUUsTUFBTSxHQUFHLEVBQWI7O0FBQWlCLFFBQUlGLEdBQUcsSUFBSSxJQUFYLEVBQWlCO0FBQUUsV0FBSyxJQUFJRyxHQUFULElBQWdCSCxHQUFoQixFQUFxQjtBQUFFLFlBQUlmLE1BQU0sQ0FBQ21CLFNBQVAsQ0FBaUJDLGNBQWpCLENBQWdDQyxJQUFoQyxDQUFxQ04sR0FBckMsRUFBMENHLEdBQTFDLENBQUosRUFBb0Q7QUFBRSxjQUFJSSxJQUFJLEdBQUd0QixNQUFNLENBQUNDLGNBQVAsSUFBeUJELE1BQU0sQ0FBQ3VCLHdCQUFoQyxHQUEyRHZCLE1BQU0sQ0FBQ3VCLHdCQUFQLENBQWdDUixHQUFoQyxFQUFxQ0csR0FBckMsQ0FBM0QsR0FBdUcsRUFBbEg7O0FBQXNILGNBQUlJLElBQUksQ0FBQ0UsR0FBTCxJQUFZRixJQUFJLENBQUNHLEdBQXJCLEVBQTBCO0FBQUV6QixZQUFBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JnQixNQUF0QixFQUE4QkMsR0FBOUIsRUFBbUNJLElBQW5DO0FBQTJDLFdBQXZFLE1BQTZFO0FBQUVMLFlBQUFBLE1BQU0sQ0FBQ0MsR0FBRCxDQUFOLEdBQWNILEdBQUcsQ0FBQ0csR0FBRCxDQUFqQjtBQUF5QjtBQUFFO0FBQUU7QUFBRTs7QUFBQ0QsSUFBQUEsTUFBTSxDQUFDUyxPQUFQLEdBQWlCWCxHQUFqQjtBQUFzQixXQUFPRSxNQUFQO0FBQWdCO0FBQUU7O0FBRXhkLFNBQVNaLGdCQUFULENBQTBCc0IsSUFBMUIsRUFBZ0NDLE1BQWhDLEVBQXdDO0FBQ3RDLE1BQUksQ0FBQyxLQUFLQyxNQUFMLENBQVlDLHNCQUFiLElBQXVDLENBQUNuQixDQUFDLEdBQUdvQiwwQkFBSixDQUErQkgsTUFBL0IsQ0FBRCxJQUEyQyxDQUFDakIsQ0FBQyxHQUFHcUIsd0JBQUosQ0FBNkJKLE1BQTdCLENBQXZGLEVBQTZIO0FBQzNILFNBQUtLLFNBQUwsQ0FBZU4sSUFBSSxDQUFDTyxVQUFwQixFQUFnQ1AsSUFBaEM7QUFDRDs7QUFFRCxNQUFJQSxJQUFJLENBQUNRLE9BQVQsRUFBa0I7QUFDaEIsU0FBS0MsSUFBTCxDQUFVLFNBQVY7QUFDQSxTQUFLQyxLQUFMO0FBQ0Q7O0FBRUQsTUFBSVYsSUFBSSxDQUFDVyxRQUFULEVBQW1CO0FBQ2pCLFNBQUtGLElBQUwsQ0FBVSxVQUFWO0FBQ0EsU0FBS0MsS0FBTDtBQUNEOztBQUVELE9BQUtELElBQUwsQ0FBVSxPQUFWOztBQUVBLE1BQUlULElBQUksQ0FBQ1ksRUFBVCxFQUFhO0FBQ1gsU0FBS0YsS0FBTDtBQUNBLFNBQUtHLEtBQUwsQ0FBV2IsSUFBSSxDQUFDWSxFQUFoQixFQUFvQlosSUFBcEI7QUFDRDs7QUFFRCxPQUFLYSxLQUFMLENBQVdiLElBQUksQ0FBQ2MsY0FBaEIsRUFBZ0NkLElBQWhDOztBQUVBLE1BQUlBLElBQUksQ0FBQ2UsVUFBVCxFQUFxQjtBQUNuQixTQUFLTCxLQUFMO0FBQ0EsU0FBS0QsSUFBTCxDQUFVLFNBQVY7QUFDQSxTQUFLQyxLQUFMO0FBQ0EsU0FBS0csS0FBTCxDQUFXYixJQUFJLENBQUNlLFVBQWhCLEVBQTRCZixJQUE1QjtBQUNBLFNBQUthLEtBQUwsQ0FBV2IsSUFBSSxDQUFDZ0IsbUJBQWhCLEVBQXFDaEIsSUFBckM7QUFDRDs7QUFFRCxNQUFJQSxJQUFJLENBQUNpQixVQUFULEVBQXFCO0FBQ25CLFNBQUtQLEtBQUw7QUFDQSxTQUFLRCxJQUFMLENBQVUsWUFBVjtBQUNBLFNBQUtDLEtBQUw7QUFDQSxTQUFLUSxTQUFMLENBQWVsQixJQUFJLENBQUNpQixVQUFwQixFQUFnQ2pCLElBQWhDO0FBQ0Q7O0FBRUQsT0FBS1UsS0FBTDtBQUNBLE9BQUtHLEtBQUwsQ0FBV2IsSUFBSSxDQUFDbUIsSUFBaEIsRUFBc0JuQixJQUF0QjtBQUNEOztBQUVELFNBQVNyQixTQUFULENBQW1CcUIsSUFBbkIsRUFBeUI7QUFDdkIsT0FBS29CLEtBQUwsQ0FBVyxHQUFYO0FBQ0EsT0FBS0Msa0JBQUwsQ0FBd0JyQixJQUF4Qjs7QUFFQSxNQUFJQSxJQUFJLENBQUNtQixJQUFMLENBQVVHLE1BQVYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDMUIsU0FBS0YsS0FBTCxDQUFXLEdBQVg7QUFDRCxHQUZELE1BRU87QUFDTCxTQUFLRyxPQUFMO0FBQ0EsU0FBS0MsTUFBTDtBQUNBLFNBQUtDLGFBQUwsQ0FBbUJ6QixJQUFJLENBQUNtQixJQUF4QixFQUE4Qm5CLElBQTlCO0FBQ0EsU0FBSzBCLE1BQUw7QUFDQSxRQUFJLENBQUMsS0FBS0MsUUFBTCxDQUFjLElBQWQsQ0FBTCxFQUEwQixLQUFLSixPQUFMO0FBQzFCLFNBQUtLLFVBQUw7QUFDRDtBQUNGOztBQUVELFNBQVNoRCxhQUFULENBQXVCb0IsSUFBdkIsRUFBNkI7QUFDM0IsT0FBS00sU0FBTCxDQUFlTixJQUFJLENBQUNPLFVBQXBCLEVBQWdDUCxJQUFoQzs7QUFFQSxNQUFJQSxJQUFJLENBQUM2QixhQUFULEVBQXdCO0FBQ3RCLFNBQUtwQixJQUFMLENBQVVULElBQUksQ0FBQzZCLGFBQWY7QUFDQSxTQUFLbkIsS0FBTDtBQUNEOztBQUVELE1BQUlWLElBQUksQ0FBQzhCLE1BQVQsRUFBaUI7QUFDZixTQUFLckIsSUFBTCxDQUFVLFFBQVY7QUFDQSxTQUFLQyxLQUFMO0FBQ0Q7O0FBRUQsTUFBSVYsSUFBSSxDQUFDVyxRQUFULEVBQW1CO0FBQ2pCLFNBQUtGLElBQUwsQ0FBVSxVQUFWO0FBQ0EsU0FBS0MsS0FBTDtBQUNEOztBQUVELE1BQUlWLElBQUksQ0FBQytCLFFBQVQsRUFBbUI7QUFDakIsU0FBS3RCLElBQUwsQ0FBVSxVQUFWO0FBQ0EsU0FBS0MsS0FBTDtBQUNEOztBQUVELE1BQUlWLElBQUksQ0FBQ2dDLFFBQVQsRUFBbUI7QUFDakIsU0FBS1osS0FBTCxDQUFXLEdBQVg7QUFDQSxTQUFLUCxLQUFMLENBQVdiLElBQUksQ0FBQ1QsR0FBaEIsRUFBcUJTLElBQXJCO0FBQ0EsU0FBS29CLEtBQUwsQ0FBVyxHQUFYO0FBQ0QsR0FKRCxNQUlPO0FBQ0wsU0FBS2EsU0FBTCxDQUFlakMsSUFBZjs7QUFFQSxTQUFLYSxLQUFMLENBQVdiLElBQUksQ0FBQ1QsR0FBaEIsRUFBcUJTLElBQXJCO0FBQ0Q7O0FBRUQsTUFBSUEsSUFBSSxDQUFDa0MsUUFBVCxFQUFtQjtBQUNqQixTQUFLZCxLQUFMLENBQVcsR0FBWDtBQUNEOztBQUVELE1BQUlwQixJQUFJLENBQUNtQyxRQUFULEVBQW1CO0FBQ2pCLFNBQUtmLEtBQUwsQ0FBVyxHQUFYO0FBQ0Q7O0FBRUQsT0FBS1AsS0FBTCxDQUFXYixJQUFJLENBQUNvQyxjQUFoQixFQUFnQ3BDLElBQWhDOztBQUVBLE1BQUlBLElBQUksQ0FBQ3hCLEtBQVQsRUFBZ0I7QUFDZCxTQUFLa0MsS0FBTDtBQUNBLFNBQUtVLEtBQUwsQ0FBVyxHQUFYO0FBQ0EsU0FBS1YsS0FBTDtBQUNBLFNBQUtHLEtBQUwsQ0FBV2IsSUFBSSxDQUFDeEIsS0FBaEIsRUFBdUJ3QixJQUF2QjtBQUNEOztBQUVELE9BQUtxQyxTQUFMO0FBQ0Q7O0FBRUQsU0FBU3hELG9CQUFULENBQThCbUIsSUFBOUIsRUFBb0M7QUFDbEMsTUFBSUEsSUFBSSxDQUFDOEIsTUFBVCxFQUFpQjtBQUNmLFNBQUtyQixJQUFMLENBQVUsUUFBVjtBQUNBLFNBQUtDLEtBQUw7QUFDRDs7QUFFRCxPQUFLRyxLQUFMLENBQVdiLElBQUksQ0FBQ1QsR0FBaEIsRUFBcUJTLElBQXJCO0FBQ0EsT0FBS2EsS0FBTCxDQUFXYixJQUFJLENBQUNvQyxjQUFoQixFQUFnQ3BDLElBQWhDOztBQUVBLE1BQUlBLElBQUksQ0FBQ3hCLEtBQVQsRUFBZ0I7QUFDZCxTQUFLa0MsS0FBTDtBQUNBLFNBQUtVLEtBQUwsQ0FBVyxHQUFYO0FBQ0EsU0FBS1YsS0FBTDtBQUNBLFNBQUtHLEtBQUwsQ0FBV2IsSUFBSSxDQUFDeEIsS0FBaEIsRUFBdUJ3QixJQUF2QjtBQUNEOztBQUVELE9BQUtxQyxTQUFMO0FBQ0Q7O0FBRUQsU0FBU3ZELFdBQVQsQ0FBcUJrQixJQUFyQixFQUEyQjtBQUN6QixPQUFLakIsZ0JBQUwsQ0FBc0JpQixJQUF0Qjs7QUFFQSxPQUFLVSxLQUFMO0FBQ0EsT0FBS0csS0FBTCxDQUFXYixJQUFJLENBQUNtQixJQUFoQixFQUFzQm5CLElBQXRCO0FBQ0Q7O0FBRUQsU0FBU2pCLGdCQUFULENBQTBCaUIsSUFBMUIsRUFBZ0M7QUFDOUIsT0FBS00sU0FBTCxDQUFlTixJQUFJLENBQUNPLFVBQXBCLEVBQWdDUCxJQUFoQzs7QUFFQSxNQUFJQSxJQUFJLENBQUM2QixhQUFULEVBQXdCO0FBQ3RCLFNBQUtwQixJQUFMLENBQVVULElBQUksQ0FBQzZCLGFBQWY7QUFDQSxTQUFLbkIsS0FBTDtBQUNEOztBQUVELE1BQUlWLElBQUksQ0FBQ1csUUFBVCxFQUFtQjtBQUNqQixTQUFLRixJQUFMLENBQVUsVUFBVjtBQUNBLFNBQUtDLEtBQUw7QUFDRDs7QUFFRCxNQUFJVixJQUFJLENBQUM4QixNQUFULEVBQWlCO0FBQ2YsU0FBS3JCLElBQUwsQ0FBVSxRQUFWO0FBQ0EsU0FBS0MsS0FBTDtBQUNEOztBQUVELE9BQUs0QixXQUFMLENBQWlCdEMsSUFBakI7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5DbGFzc0V4cHJlc3Npb24gPSBleHBvcnRzLkNsYXNzRGVjbGFyYXRpb24gPSBDbGFzc0RlY2xhcmF0aW9uO1xuZXhwb3J0cy5DbGFzc0JvZHkgPSBDbGFzc0JvZHk7XG5leHBvcnRzLkNsYXNzUHJvcGVydHkgPSBDbGFzc1Byb3BlcnR5O1xuZXhwb3J0cy5DbGFzc1ByaXZhdGVQcm9wZXJ0eSA9IENsYXNzUHJpdmF0ZVByb3BlcnR5O1xuZXhwb3J0cy5DbGFzc01ldGhvZCA9IENsYXNzTWV0aG9kO1xuZXhwb3J0cy5fY2xhc3NNZXRob2RIZWFkID0gX2NsYXNzTWV0aG9kSGVhZDtcblxuZnVuY3Rpb24gdCgpIHtcbiAgY29uc3QgZGF0YSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJAYmFiZWwvdHlwZXNcIikpO1xuXG4gIHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gQ2xhc3NEZWNsYXJhdGlvbihub2RlLCBwYXJlbnQpIHtcbiAgaWYgKCF0aGlzLmZvcm1hdC5kZWNvcmF0b3JzQmVmb3JlRXhwb3J0IHx8ICF0KCkuaXNFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24ocGFyZW50KSAmJiAhdCgpLmlzRXhwb3J0TmFtZWREZWNsYXJhdGlvbihwYXJlbnQpKSB7XG4gICAgdGhpcy5wcmludEpvaW4obm9kZS5kZWNvcmF0b3JzLCBub2RlKTtcbiAgfVxuXG4gIGlmIChub2RlLmRlY2xhcmUpIHtcbiAgICB0aGlzLndvcmQoXCJkZWNsYXJlXCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgfVxuXG4gIGlmIChub2RlLmFic3RyYWN0KSB7XG4gICAgdGhpcy53b3JkKFwiYWJzdHJhY3RcIik7XG4gICAgdGhpcy5zcGFjZSgpO1xuICB9XG5cbiAgdGhpcy53b3JkKFwiY2xhc3NcIik7XG5cbiAgaWYgKG5vZGUuaWQpIHtcbiAgICB0aGlzLnNwYWNlKCk7XG4gICAgdGhpcy5wcmludChub2RlLmlkLCBub2RlKTtcbiAgfVxuXG4gIHRoaXMucHJpbnQobm9kZS50eXBlUGFyYW1ldGVycywgbm9kZSk7XG5cbiAgaWYgKG5vZGUuc3VwZXJDbGFzcykge1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgICB0aGlzLndvcmQoXCJleHRlbmRzXCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgICB0aGlzLnByaW50KG5vZGUuc3VwZXJDbGFzcywgbm9kZSk7XG4gICAgdGhpcy5wcmludChub2RlLnN1cGVyVHlwZVBhcmFtZXRlcnMsIG5vZGUpO1xuICB9XG5cbiAgaWYgKG5vZGUuaW1wbGVtZW50cykge1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgICB0aGlzLndvcmQoXCJpbXBsZW1lbnRzXCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgICB0aGlzLnByaW50TGlzdChub2RlLmltcGxlbWVudHMsIG5vZGUpO1xuICB9XG5cbiAgdGhpcy5zcGFjZSgpO1xuICB0aGlzLnByaW50KG5vZGUuYm9keSwgbm9kZSk7XG59XG5cbmZ1bmN0aW9uIENsYXNzQm9keShub2RlKSB7XG4gIHRoaXMudG9rZW4oXCJ7XCIpO1xuICB0aGlzLnByaW50SW5uZXJDb21tZW50cyhub2RlKTtcblxuICBpZiAobm9kZS5ib2R5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMudG9rZW4oXCJ9XCIpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubmV3bGluZSgpO1xuICAgIHRoaXMuaW5kZW50KCk7XG4gICAgdGhpcy5wcmludFNlcXVlbmNlKG5vZGUuYm9keSwgbm9kZSk7XG4gICAgdGhpcy5kZWRlbnQoKTtcbiAgICBpZiAoIXRoaXMuZW5kc1dpdGgoXCJcXG5cIikpIHRoaXMubmV3bGluZSgpO1xuICAgIHRoaXMucmlnaHRCcmFjZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENsYXNzUHJvcGVydHkobm9kZSkge1xuICB0aGlzLnByaW50Sm9pbihub2RlLmRlY29yYXRvcnMsIG5vZGUpO1xuXG4gIGlmIChub2RlLmFjY2Vzc2liaWxpdHkpIHtcbiAgICB0aGlzLndvcmQobm9kZS5hY2Nlc3NpYmlsaXR5KTtcbiAgICB0aGlzLnNwYWNlKCk7XG4gIH1cblxuICBpZiAobm9kZS5zdGF0aWMpIHtcbiAgICB0aGlzLndvcmQoXCJzdGF0aWNcIik7XG4gICAgdGhpcy5zcGFjZSgpO1xuICB9XG5cbiAgaWYgKG5vZGUuYWJzdHJhY3QpIHtcbiAgICB0aGlzLndvcmQoXCJhYnN0cmFjdFwiKTtcbiAgICB0aGlzLnNwYWNlKCk7XG4gIH1cblxuICBpZiAobm9kZS5yZWFkb25seSkge1xuICAgIHRoaXMud29yZChcInJlYWRvbmx5XCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgfVxuXG4gIGlmIChub2RlLmNvbXB1dGVkKSB7XG4gICAgdGhpcy50b2tlbihcIltcIik7XG4gICAgdGhpcy5wcmludChub2RlLmtleSwgbm9kZSk7XG4gICAgdGhpcy50b2tlbihcIl1cIik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fdmFyaWFuY2Uobm9kZSk7XG5cbiAgICB0aGlzLnByaW50KG5vZGUua2V5LCBub2RlKTtcbiAgfVxuXG4gIGlmIChub2RlLm9wdGlvbmFsKSB7XG4gICAgdGhpcy50b2tlbihcIj9cIik7XG4gIH1cblxuICBpZiAobm9kZS5kZWZpbml0ZSkge1xuICAgIHRoaXMudG9rZW4oXCIhXCIpO1xuICB9XG5cbiAgdGhpcy5wcmludChub2RlLnR5cGVBbm5vdGF0aW9uLCBub2RlKTtcblxuICBpZiAobm9kZS52YWx1ZSkge1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgICB0aGlzLnRva2VuKFwiPVwiKTtcbiAgICB0aGlzLnNwYWNlKCk7XG4gICAgdGhpcy5wcmludChub2RlLnZhbHVlLCBub2RlKTtcbiAgfVxuXG4gIHRoaXMuc2VtaWNvbG9uKCk7XG59XG5cbmZ1bmN0aW9uIENsYXNzUHJpdmF0ZVByb3BlcnR5KG5vZGUpIHtcbiAgaWYgKG5vZGUuc3RhdGljKSB7XG4gICAgdGhpcy53b3JkKFwic3RhdGljXCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgfVxuXG4gIHRoaXMucHJpbnQobm9kZS5rZXksIG5vZGUpO1xuICB0aGlzLnByaW50KG5vZGUudHlwZUFubm90YXRpb24sIG5vZGUpO1xuXG4gIGlmIChub2RlLnZhbHVlKSB7XG4gICAgdGhpcy5zcGFjZSgpO1xuICAgIHRoaXMudG9rZW4oXCI9XCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgICB0aGlzLnByaW50KG5vZGUudmFsdWUsIG5vZGUpO1xuICB9XG5cbiAgdGhpcy5zZW1pY29sb24oKTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NNZXRob2Qobm9kZSkge1xuICB0aGlzLl9jbGFzc01ldGhvZEhlYWQobm9kZSk7XG5cbiAgdGhpcy5zcGFjZSgpO1xuICB0aGlzLnByaW50KG5vZGUuYm9keSwgbm9kZSk7XG59XG5cbmZ1bmN0aW9uIF9jbGFzc01ldGhvZEhlYWQobm9kZSkge1xuICB0aGlzLnByaW50Sm9pbihub2RlLmRlY29yYXRvcnMsIG5vZGUpO1xuXG4gIGlmIChub2RlLmFjY2Vzc2liaWxpdHkpIHtcbiAgICB0aGlzLndvcmQobm9kZS5hY2Nlc3NpYmlsaXR5KTtcbiAgICB0aGlzLnNwYWNlKCk7XG4gIH1cblxuICBpZiAobm9kZS5hYnN0cmFjdCkge1xuICAgIHRoaXMud29yZChcImFic3RyYWN0XCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgfVxuXG4gIGlmIChub2RlLnN0YXRpYykge1xuICAgIHRoaXMud29yZChcInN0YXRpY1wiKTtcbiAgICB0aGlzLnNwYWNlKCk7XG4gIH1cblxuICB0aGlzLl9tZXRob2RIZWFkKG5vZGUpO1xufSJdfQ==