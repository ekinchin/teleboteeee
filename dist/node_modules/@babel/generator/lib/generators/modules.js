"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ImportSpecifier = ImportSpecifier;
exports.ImportDefaultSpecifier = ImportDefaultSpecifier;
exports.ExportDefaultSpecifier = ExportDefaultSpecifier;
exports.ExportSpecifier = ExportSpecifier;
exports.ExportNamespaceSpecifier = ExportNamespaceSpecifier;
exports.ExportAllDeclaration = ExportAllDeclaration;
exports.ExportNamedDeclaration = ExportNamedDeclaration;
exports.ExportDefaultDeclaration = ExportDefaultDeclaration;
exports.ImportDeclaration = ImportDeclaration;
exports.ImportNamespaceSpecifier = ImportNamespaceSpecifier;

function t() {
  const data = _interopRequireWildcard(require("@babel/types"));

  t = function () {
    return data;
  };

  return data;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};

    if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};

          if (desc.get || desc.set) {
            Object.defineProperty(newObj, key, desc);
          } else {
            newObj[key] = obj[key];
          }
        }
      }
    }

    newObj.default = obj;
    return newObj;
  }
}

function ImportSpecifier(node) {
  if (node.importKind === "type" || node.importKind === "typeof") {
    this.word(node.importKind);
    this.space();
  }

  this.print(node.imported, node);

  if (node.local && node.local.name !== node.imported.name) {
    this.space();
    this.word("as");
    this.space();
    this.print(node.local, node);
  }
}

function ImportDefaultSpecifier(node) {
  this.print(node.local, node);
}

function ExportDefaultSpecifier(node) {
  this.print(node.exported, node);
}

function ExportSpecifier(node) {
  this.print(node.local, node);

  if (node.exported && node.local.name !== node.exported.name) {
    this.space();
    this.word("as");
    this.space();
    this.print(node.exported, node);
  }
}

function ExportNamespaceSpecifier(node) {
  this.token("*");
  this.space();
  this.word("as");
  this.space();
  this.print(node.exported, node);
}

function ExportAllDeclaration(node) {
  this.word("export");
  this.space();

  if (node.exportKind === "type") {
    this.word("type");
    this.space();
  }

  this.token("*");
  this.space();
  this.word("from");
  this.space();
  this.print(node.source, node);
  this.semicolon();
}

function ExportNamedDeclaration(node) {
  if (this.format.decoratorsBeforeExport && t().isClassDeclaration(node.declaration)) {
    this.printJoin(node.declaration.decorators, node);
  }

  this.word("export");
  this.space();
  ExportDeclaration.apply(this, arguments);
}

function ExportDefaultDeclaration(node) {
  if (this.format.decoratorsBeforeExport && t().isClassDeclaration(node.declaration)) {
    this.printJoin(node.declaration.decorators, node);
  }

  this.word("export");
  this.space();
  this.word("default");
  this.space();
  ExportDeclaration.apply(this, arguments);
}

function ExportDeclaration(node) {
  if (node.declaration) {
    const declar = node.declaration;
    this.print(declar, node);
    if (!t().isStatement(declar)) this.semicolon();
  } else {
    if (node.exportKind === "type") {
      this.word("type");
      this.space();
    }

    const specifiers = node.specifiers.slice(0);
    let hasSpecial = false;

    while (true) {
      const first = specifiers[0];

      if (t().isExportDefaultSpecifier(first) || t().isExportNamespaceSpecifier(first)) {
        hasSpecial = true;
        this.print(specifiers.shift(), node);

        if (specifiers.length) {
          this.token(",");
          this.space();
        }
      } else {
        break;
      }
    }

    if (specifiers.length || !specifiers.length && !hasSpecial) {
      this.token("{");

      if (specifiers.length) {
        this.space();
        this.printList(specifiers, node);
        this.space();
      }

      this.token("}");
    }

    if (node.source) {
      this.space();
      this.word("from");
      this.space();
      this.print(node.source, node);
    }

    this.semicolon();
  }
}

function ImportDeclaration(node) {
  this.word("import");
  this.space();

  if (node.importKind === "type" || node.importKind === "typeof") {
    this.word(node.importKind);
    this.space();
  }

  const specifiers = node.specifiers.slice(0);

  if (specifiers && specifiers.length) {
    while (true) {
      const first = specifiers[0];

      if (t().isImportDefaultSpecifier(first) || t().isImportNamespaceSpecifier(first)) {
        this.print(specifiers.shift(), node);

        if (specifiers.length) {
          this.token(",");
          this.space();
        }
      } else {
        break;
      }
    }

    if (specifiers.length) {
      this.token("{");
      this.space();
      this.printList(specifiers, node);
      this.space();
      this.token("}");
    }

    this.space();
    this.word("from");
    this.space();
  }

  this.print(node.source, node);
  this.semicolon();
}

function ImportNamespaceSpecifier(node) {
  this.token("*");
  this.space();
  this.word("as");
  this.space();
  this.print(node.local, node);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvZ2VuZXJhdG9yL2xpYi9nZW5lcmF0b3JzL21vZHVsZXMuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJJbXBvcnRTcGVjaWZpZXIiLCJJbXBvcnREZWZhdWx0U3BlY2lmaWVyIiwiRXhwb3J0RGVmYXVsdFNwZWNpZmllciIsIkV4cG9ydFNwZWNpZmllciIsIkV4cG9ydE5hbWVzcGFjZVNwZWNpZmllciIsIkV4cG9ydEFsbERlY2xhcmF0aW9uIiwiRXhwb3J0TmFtZWREZWNsYXJhdGlvbiIsIkV4cG9ydERlZmF1bHREZWNsYXJhdGlvbiIsIkltcG9ydERlY2xhcmF0aW9uIiwiSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyIiwidCIsImRhdGEiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwibmV3T2JqIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsInNldCIsImRlZmF1bHQiLCJub2RlIiwiaW1wb3J0S2luZCIsIndvcmQiLCJzcGFjZSIsInByaW50IiwiaW1wb3J0ZWQiLCJsb2NhbCIsIm5hbWUiLCJleHBvcnRlZCIsInRva2VuIiwiZXhwb3J0S2luZCIsInNvdXJjZSIsInNlbWljb2xvbiIsImZvcm1hdCIsImRlY29yYXRvcnNCZWZvcmVFeHBvcnQiLCJpc0NsYXNzRGVjbGFyYXRpb24iLCJkZWNsYXJhdGlvbiIsInByaW50Sm9pbiIsImRlY29yYXRvcnMiLCJFeHBvcnREZWNsYXJhdGlvbiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZGVjbGFyIiwiaXNTdGF0ZW1lbnQiLCJzcGVjaWZpZXJzIiwic2xpY2UiLCJoYXNTcGVjaWFsIiwiZmlyc3QiLCJpc0V4cG9ydERlZmF1bHRTcGVjaWZpZXIiLCJpc0V4cG9ydE5hbWVzcGFjZVNwZWNpZmllciIsInNoaWZ0IiwibGVuZ3RoIiwicHJpbnRMaXN0IiwiaXNJbXBvcnREZWZhdWx0U3BlY2lmaWVyIiwiaXNJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQzNDQyxFQUFBQSxLQUFLLEVBQUU7QUFEb0MsQ0FBN0M7QUFHQUQsT0FBTyxDQUFDRSxlQUFSLEdBQTBCQSxlQUExQjtBQUNBRixPQUFPLENBQUNHLHNCQUFSLEdBQWlDQSxzQkFBakM7QUFDQUgsT0FBTyxDQUFDSSxzQkFBUixHQUFpQ0Esc0JBQWpDO0FBQ0FKLE9BQU8sQ0FBQ0ssZUFBUixHQUEwQkEsZUFBMUI7QUFDQUwsT0FBTyxDQUFDTSx3QkFBUixHQUFtQ0Esd0JBQW5DO0FBQ0FOLE9BQU8sQ0FBQ08sb0JBQVIsR0FBK0JBLG9CQUEvQjtBQUNBUCxPQUFPLENBQUNRLHNCQUFSLEdBQWlDQSxzQkFBakM7QUFDQVIsT0FBTyxDQUFDUyx3QkFBUixHQUFtQ0Esd0JBQW5DO0FBQ0FULE9BQU8sQ0FBQ1UsaUJBQVIsR0FBNEJBLGlCQUE1QjtBQUNBVixPQUFPLENBQUNXLHdCQUFSLEdBQW1DQSx3QkFBbkM7O0FBRUEsU0FBU0MsQ0FBVCxHQUFhO0FBQ1gsUUFBTUMsSUFBSSxHQUFHQyx1QkFBdUIsQ0FBQ0MsT0FBTyxDQUFDLGNBQUQsQ0FBUixDQUFwQzs7QUFFQUgsRUFBQUEsQ0FBQyxHQUFHLFlBQVk7QUFDZCxXQUFPQyxJQUFQO0FBQ0QsR0FGRDs7QUFJQSxTQUFPQSxJQUFQO0FBQ0Q7O0FBRUQsU0FBU0MsdUJBQVQsQ0FBaUNFLEdBQWpDLEVBQXNDO0FBQUUsTUFBSUEsR0FBRyxJQUFJQSxHQUFHLENBQUNDLFVBQWYsRUFBMkI7QUFBRSxXQUFPRCxHQUFQO0FBQWEsR0FBMUMsTUFBZ0Q7QUFBRSxRQUFJRSxNQUFNLEdBQUcsRUFBYjs7QUFB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VSxDQUFDTSxLQUFYLEVBQVgsRUFBK0I5QixJQUEvQjs7QUFFQSxZQUFJd0IsVUFBVSxDQUFDTyxNQUFmLEVBQXVCO0FBQ3JCLGVBQUt0QixLQUFMLENBQVcsR0FBWDtBQUNBLGVBQUtOLEtBQUw7QUFDRDtBQUNGLE9BUEQsTUFPTztBQUNMO0FBQ0Q7QUFDRjs7QUFFRCxRQUFJcUIsVUFBVSxDQUFDTyxNQUFmLEVBQXVCO0FBQ3JCLFdBQUt0QixLQUFMLENBQVcsR0FBWDtBQUNBLFdBQUtOLEtBQUw7QUFDQSxXQUFLNkIsU0FBTCxDQUFlUixVQUFmLEVBQTJCeEIsSUFBM0I7QUFDQSxXQUFLRyxLQUFMO0FBQ0EsV0FBS00sS0FBTCxDQUFXLEdBQVg7QUFDRDs7QUFFRCxTQUFLTixLQUFMO0FBQ0EsU0FBS0QsSUFBTCxDQUFVLE1BQVY7QUFDQSxTQUFLQyxLQUFMO0FBQ0Q7O0FBRUQsT0FBS0MsS0FBTCxDQUFXSixJQUFJLENBQUNXLE1BQWhCLEVBQXdCWCxJQUF4QjtBQUNBLE9BQUtZLFNBQUw7QUFDRDs7QUFFRCxTQUFTN0Isd0JBQVQsQ0FBa0NpQixJQUFsQyxFQUF3QztBQUN0QyxPQUFLUyxLQUFMLENBQVcsR0FBWDtBQUNBLE9BQUtOLEtBQUw7QUFDQSxPQUFLRCxJQUFMLENBQVUsSUFBVjtBQUNBLE9BQUtDLEtBQUw7QUFDQSxPQUFLQyxLQUFMLENBQVdKLElBQUksQ0FBQ00sS0FBaEIsRUFBdUJOLElBQXZCO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSW1wb3J0U3BlY2lmaWVyID0gSW1wb3J0U3BlY2lmaWVyO1xuZXhwb3J0cy5JbXBvcnREZWZhdWx0U3BlY2lmaWVyID0gSW1wb3J0RGVmYXVsdFNwZWNpZmllcjtcbmV4cG9ydHMuRXhwb3J0RGVmYXVsdFNwZWNpZmllciA9IEV4cG9ydERlZmF1bHRTcGVjaWZpZXI7XG5leHBvcnRzLkV4cG9ydFNwZWNpZmllciA9IEV4cG9ydFNwZWNpZmllcjtcbmV4cG9ydHMuRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyID0gRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyO1xuZXhwb3J0cy5FeHBvcnRBbGxEZWNsYXJhdGlvbiA9IEV4cG9ydEFsbERlY2xhcmF0aW9uO1xuZXhwb3J0cy5FeHBvcnROYW1lZERlY2xhcmF0aW9uID0gRXhwb3J0TmFtZWREZWNsYXJhdGlvbjtcbmV4cG9ydHMuRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uID0gRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uO1xuZXhwb3J0cy5JbXBvcnREZWNsYXJhdGlvbiA9IEltcG9ydERlY2xhcmF0aW9uO1xuZXhwb3J0cy5JbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIgPSBJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXI7XG5cbmZ1bmN0aW9uIHQoKSB7XG4gIGNvbnN0IGRhdGEgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiQGJhYmVsL3R5cGVzXCIpKTtcblxuICB0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIEltcG9ydFNwZWNpZmllcihub2RlKSB7XG4gIGlmIChub2RlLmltcG9ydEtpbmQgPT09IFwidHlwZVwiIHx8IG5vZGUuaW1wb3J0S2luZCA9PT0gXCJ0eXBlb2ZcIikge1xuICAgIHRoaXMud29yZChub2RlLmltcG9ydEtpbmQpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgfVxuXG4gIHRoaXMucHJpbnQobm9kZS5pbXBvcnRlZCwgbm9kZSk7XG5cbiAgaWYgKG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5uYW1lICE9PSBub2RlLmltcG9ydGVkLm5hbWUpIHtcbiAgICB0aGlzLnNwYWNlKCk7XG4gICAgdGhpcy53b3JkKFwiYXNcIik7XG4gICAgdGhpcy5zcGFjZSgpO1xuICAgIHRoaXMucHJpbnQobm9kZS5sb2NhbCwgbm9kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gSW1wb3J0RGVmYXVsdFNwZWNpZmllcihub2RlKSB7XG4gIHRoaXMucHJpbnQobm9kZS5sb2NhbCwgbm9kZSk7XG59XG5cbmZ1bmN0aW9uIEV4cG9ydERlZmF1bHRTcGVjaWZpZXIobm9kZSkge1xuICB0aGlzLnByaW50KG5vZGUuZXhwb3J0ZWQsIG5vZGUpO1xufVxuXG5mdW5jdGlvbiBFeHBvcnRTcGVjaWZpZXIobm9kZSkge1xuICB0aGlzLnByaW50KG5vZGUubG9jYWwsIG5vZGUpO1xuXG4gIGlmIChub2RlLmV4cG9ydGVkICYmIG5vZGUubG9jYWwubmFtZSAhPT0gbm9kZS5leHBvcnRlZC5uYW1lKSB7XG4gICAgdGhpcy5zcGFjZSgpO1xuICAgIHRoaXMud29yZChcImFzXCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgICB0aGlzLnByaW50KG5vZGUuZXhwb3J0ZWQsIG5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIEV4cG9ydE5hbWVzcGFjZVNwZWNpZmllcihub2RlKSB7XG4gIHRoaXMudG9rZW4oXCIqXCIpO1xuICB0aGlzLnNwYWNlKCk7XG4gIHRoaXMud29yZChcImFzXCIpO1xuICB0aGlzLnNwYWNlKCk7XG4gIHRoaXMucHJpbnQobm9kZS5leHBvcnRlZCwgbm9kZSk7XG59XG5cbmZ1bmN0aW9uIEV4cG9ydEFsbERlY2xhcmF0aW9uKG5vZGUpIHtcbiAgdGhpcy53b3JkKFwiZXhwb3J0XCIpO1xuICB0aGlzLnNwYWNlKCk7XG5cbiAgaWYgKG5vZGUuZXhwb3J0S2luZCA9PT0gXCJ0eXBlXCIpIHtcbiAgICB0aGlzLndvcmQoXCJ0eXBlXCIpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgfVxuXG4gIHRoaXMudG9rZW4oXCIqXCIpO1xuICB0aGlzLnNwYWNlKCk7XG4gIHRoaXMud29yZChcImZyb21cIik7XG4gIHRoaXMuc3BhY2UoKTtcbiAgdGhpcy5wcmludChub2RlLnNvdXJjZSwgbm9kZSk7XG4gIHRoaXMuc2VtaWNvbG9uKCk7XG59XG5cbmZ1bmN0aW9uIEV4cG9ydE5hbWVkRGVjbGFyYXRpb24obm9kZSkge1xuICBpZiAodGhpcy5mb3JtYXQuZGVjb3JhdG9yc0JlZm9yZUV4cG9ydCAmJiB0KCkuaXNDbGFzc0RlY2xhcmF0aW9uKG5vZGUuZGVjbGFyYXRpb24pKSB7XG4gICAgdGhpcy5wcmludEpvaW4obm9kZS5kZWNsYXJhdGlvbi5kZWNvcmF0b3JzLCBub2RlKTtcbiAgfVxuXG4gIHRoaXMud29yZChcImV4cG9ydFwiKTtcbiAgdGhpcy5zcGFjZSgpO1xuICBFeHBvcnREZWNsYXJhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24obm9kZSkge1xuICBpZiAodGhpcy5mb3JtYXQuZGVjb3JhdG9yc0JlZm9yZUV4cG9ydCAmJiB0KCkuaXNDbGFzc0RlY2xhcmF0aW9uKG5vZGUuZGVjbGFyYXRpb24pKSB7XG4gICAgdGhpcy5wcmludEpvaW4obm9kZS5kZWNsYXJhdGlvbi5kZWNvcmF0b3JzLCBub2RlKTtcbiAgfVxuXG4gIHRoaXMud29yZChcImV4cG9ydFwiKTtcbiAgdGhpcy5zcGFjZSgpO1xuICB0aGlzLndvcmQoXCJkZWZhdWx0XCIpO1xuICB0aGlzLnNwYWNlKCk7XG4gIEV4cG9ydERlY2xhcmF0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIEV4cG9ydERlY2xhcmF0aW9uKG5vZGUpIHtcbiAgaWYgKG5vZGUuZGVjbGFyYXRpb24pIHtcbiAgICBjb25zdCBkZWNsYXIgPSBub2RlLmRlY2xhcmF0aW9uO1xuICAgIHRoaXMucHJpbnQoZGVjbGFyLCBub2RlKTtcbiAgICBpZiAoIXQoKS5pc1N0YXRlbWVudChkZWNsYXIpKSB0aGlzLnNlbWljb2xvbigpO1xuICB9IGVsc2Uge1xuICAgIGlmIChub2RlLmV4cG9ydEtpbmQgPT09IFwidHlwZVwiKSB7XG4gICAgICB0aGlzLndvcmQoXCJ0eXBlXCIpO1xuICAgICAgdGhpcy5zcGFjZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHNwZWNpZmllcnMgPSBub2RlLnNwZWNpZmllcnMuc2xpY2UoMCk7XG4gICAgbGV0IGhhc1NwZWNpYWwgPSBmYWxzZTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBmaXJzdCA9IHNwZWNpZmllcnNbMF07XG5cbiAgICAgIGlmICh0KCkuaXNFeHBvcnREZWZhdWx0U3BlY2lmaWVyKGZpcnN0KSB8fCB0KCkuaXNFeHBvcnROYW1lc3BhY2VTcGVjaWZpZXIoZmlyc3QpKSB7XG4gICAgICAgIGhhc1NwZWNpYWwgPSB0cnVlO1xuICAgICAgICB0aGlzLnByaW50KHNwZWNpZmllcnMuc2hpZnQoKSwgbm9kZSk7XG5cbiAgICAgICAgaWYgKHNwZWNpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy50b2tlbihcIixcIik7XG4gICAgICAgICAgdGhpcy5zcGFjZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3BlY2lmaWVycy5sZW5ndGggfHwgIXNwZWNpZmllcnMubGVuZ3RoICYmICFoYXNTcGVjaWFsKSB7XG4gICAgICB0aGlzLnRva2VuKFwie1wiKTtcblxuICAgICAgaWYgKHNwZWNpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc3BhY2UoKTtcbiAgICAgICAgdGhpcy5wcmludExpc3Qoc3BlY2lmaWVycywgbm9kZSk7XG4gICAgICAgIHRoaXMuc3BhY2UoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbihcIn1cIik7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuc291cmNlKSB7XG4gICAgICB0aGlzLnNwYWNlKCk7XG4gICAgICB0aGlzLndvcmQoXCJmcm9tXCIpO1xuICAgICAgdGhpcy5zcGFjZSgpO1xuICAgICAgdGhpcy5wcmludChub2RlLnNvdXJjZSwgbm9kZSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZW1pY29sb24oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBJbXBvcnREZWNsYXJhdGlvbihub2RlKSB7XG4gIHRoaXMud29yZChcImltcG9ydFwiKTtcbiAgdGhpcy5zcGFjZSgpO1xuXG4gIGlmIChub2RlLmltcG9ydEtpbmQgPT09IFwidHlwZVwiIHx8IG5vZGUuaW1wb3J0S2luZCA9PT0gXCJ0eXBlb2ZcIikge1xuICAgIHRoaXMud29yZChub2RlLmltcG9ydEtpbmQpO1xuICAgIHRoaXMuc3BhY2UoKTtcbiAgfVxuXG4gIGNvbnN0IHNwZWNpZmllcnMgPSBub2RlLnNwZWNpZmllcnMuc2xpY2UoMCk7XG5cbiAgaWYgKHNwZWNpZmllcnMgJiYgc3BlY2lmaWVycy5sZW5ndGgpIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgZmlyc3QgPSBzcGVjaWZpZXJzWzBdO1xuXG4gICAgICBpZiAodCgpLmlzSW1wb3J0RGVmYXVsdFNwZWNpZmllcihmaXJzdCkgfHwgdCgpLmlzSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyKGZpcnN0KSkge1xuICAgICAgICB0aGlzLnByaW50KHNwZWNpZmllcnMuc2hpZnQoKSwgbm9kZSk7XG5cbiAgICAgICAgaWYgKHNwZWNpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy50b2tlbihcIixcIik7XG4gICAgICAgICAgdGhpcy5zcGFjZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3BlY2lmaWVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudG9rZW4oXCJ7XCIpO1xuICAgICAgdGhpcy5zcGFjZSgpO1xuICAgICAgdGhpcy5wcmludExpc3Qoc3BlY2lmaWVycywgbm9kZSk7XG4gICAgICB0aGlzLnNwYWNlKCk7XG4gICAgICB0aGlzLnRva2VuKFwifVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnNwYWNlKCk7XG4gICAgdGhpcy53b3JkKFwiZnJvbVwiKTtcbiAgICB0aGlzLnNwYWNlKCk7XG4gIH1cblxuICB0aGlzLnByaW50KG5vZGUuc291cmNlLCBub2RlKTtcbiAgdGhpcy5zZW1pY29sb24oKTtcbn1cblxuZnVuY3Rpb24gSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyKG5vZGUpIHtcbiAgdGhpcy50b2tlbihcIipcIik7XG4gIHRoaXMuc3BhY2UoKTtcbiAgdGhpcy53b3JkKFwiYXNcIik7XG4gIHRoaXMuc3BhY2UoKTtcbiAgdGhpcy5wcmludChub2RlLmxvY2FsLCBub2RlKTtcbn0iXX0=